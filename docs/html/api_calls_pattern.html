<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Smart Remote 3 nRF52 v1.2 : Pattern of the API calls</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra_stylesheet_offline.css" rel="stylesheet" type="text/css"/>
<link href="nordic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0" width="100%" class="blank">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Nordic Semiconductor" src="nordic_small.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Smart Remote 3 nRF52 v1.2
   </div>
  </td>
 </tr>
 </tbody>
</table>
<script>
var url=window.location.href.split("/").reverse()[1];
var validLinks= ["nrf5","s130","s132","s212","s332"];
var index;
for (index = 0; index < validLinks.length; ++index) {
   if ( url.indexOf(validLinks[index]) !== -1 ) {
      document.getElementById(validLinks[index]).setAttribute('class', 'doclinks docselected');
   };
};
</script>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Introduction</span></a></li>
      <li><a href="usergroup0.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('api_calls_pattern.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Pattern of the API calls </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Driver API and module API of the Smart Remote firmware follow distinct patterns.</p>
<h1><a class="anchor" id="api_calls_pattern_driver"></a>
Driver API</h1>
<p>Most of the drivers are using similar API calls that reflect the following pattern.</p>
<ul>
<li><p class="startli"><code>ret_code_t drv_xxx_init(drv_xxx_event_handler_t event_handler); </code></p>
<p class="startli">Initializes the given driver and sets the event handler. Input drivers use the handler to pass new data to upper layers. Output drivers use the handler to confirm execution of the requested action. Note that the event handler can be called from interrupt context.</p>
</li>
</ul>
<ul>
<li><p class="startli"><code>ret_code_t drv_xxx_enable(); ret_code_t drv_xxx_disable(); </code></p>
<p class="startli">Controls the peripheral state. When the peripheral is enabled, it can report or transmit data, but requires more power. A disabled peripheral consumes as little power as possible, but is inoperative.</p>
</li>
</ul>
<ul>
<li><p class="startli"><code>ret_code_t drv_xxx_schedule_read(&lt;pointer to memory buffer&gt;); </code></p>
<p class="startli">Drivers of peripherals that require polling implement this function to start the readout cycle. The memory pointed by the call is used to store data and will be returned back to the caller in the event handler. Since drivers can perform only one operation at a time, no further readouts should be scheduled until the last one has been confirmed by the event handler.</p>
</li>
</ul>
<ul>
<li><p class="startli"><code>ret_code_t drv_xxx_action(); </code></p>
<p class="startli">Some peripherals implement dedicated API calls to perform peripheral-specific operations. Execution of such operations is confirmed by an event handler call. An example of such a peripheral is the <a class="el" href="group___d_r_v___i_r.html">drv_ir_sirc</a> driver, which implements a <a class="el" href="group___d_r_v___i_r.html#gab8684c22d30a6ec8b34f268c71a5205c" title="Send an IR symbol.">drv_ir_send_symbol()</a> call to send SIRC symbols using infrared.</p>
</li>
</ul>
<ul>
<li><p class="startli"><code>bool drv_xxx_wakeup_prepare(bool wakeup); </code></p>
<p class="startli">This function prepares the peripheral for deep sleep and subsequent wakeup (if the wakeup parameter is true).</p>
</li>
</ul>
<h1><a class="anchor" id="api_calls_pattern_module"></a>
Module API</h1>
<p>The module API is similar to the driver API and also follows a pattern.</p>
<ul>
<li><p class="startli"><code>ret_code_t m_xxx_init(); </code></p>
<p class="startli">Initializes the given module and the underlying driver.</p>
</li>
</ul>
<ul>
<li><p class="startli"><code>ret_code_t m_xxx_enable(); ret_code_t m_xxx_disable(); </code></p>
<p class="startli">Enables or disables the given module.</p>
</li>
</ul>
<ul>
<li><p class="startli"><code>bool m_xxx_event_handler(const event_t *p_event); </code></p>
<p class="startli">Interface to the event bus. This function is called for each event in the system.</p>
</li>
</ul>
<ul>
<li><p class="startli"><code>bool m_xxx_wakeup_prepare(m_pwr_mgmt_shutdown_type_t shutdown_type); </code></p>
<p class="startli">This function prepares the given module and the underlying driver for deep sleep and subsequent wakeup (depending on the shutdown type). </p>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="nav-path" class="topicfooter">
<a href="mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback" id="maillink">Documentation feedback</a> | <a href="https://devzone.nordicsemi.com/questions/" target="_blank">Developer Zone</a> | <a href="http://response.nordicsemi.com/subscribe-to-our-newsletters" target="_blank">Subscribe</a> | Updated <span id="date"/>
<script>
var date = new Date("Thu Jun 7 2018" + " UTC");
document.getElementById("date").innerHTML = date.toJSON().slice(0, 10);
var url=window.location.href.split("?")[0];
var filename=url.substring(url.lastIndexOf('/')+1);
document.getElementById("maillink").href = "mailto:docfeedback@nordicsemi.no?subject=Documentation%20feedback"+decodeURIComponent("%26")+"body=File%20name%3A%20"+encodeURIComponent(filename);
</script>
</div>
</body>
</html>
